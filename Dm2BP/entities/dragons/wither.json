{
  "format_version": "1.13.0",
  "minecraft:entity": {
    "description": {
      "identifier": "dragonmountsplus:wither_dragon",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false,
      "scripts": {
        "animate": [
          "dragon_effect" 
          ]
      },
      "animations": {
        "dragon_effect": "controller.animation.dragon.default"
      }      
    },
    "component_groups": {
      "flying":{
        "minecraft:is_stunned": {},          
        "minecraft:physics": {"has_gravity": false},
        "minecraft:can_fly": {},
        "minecraft:flying_speed": {
            "value": 1.0
        },
        "minecraft:input_air_controlled": {
            "strafe_speed_modifier": 0.90,
            "backwards_movement_modifier": 0.7
        },
        "minecraft:movement.fly": {},
        "minecraft:navigation.fly": {
          "can_path_over_water": true,
          "can_path_from_air": true,
          "can_jump": true,
          "can_breach": true,
          "avoid_water": true
        },
        "minecraft:movement": {
          "value": 1.6
        }
      },
      "on_ground":{
        "minecraft:physics": {},
        "minecraft:can_power_jump": {},
        "minecraft:navigation.walk": {
          "priority": 0,
          "can_jump":true,
          "can_path_over_water": true,
          "can_path_from_air": true,
          "avoid_water": true,
          "avoid_damage_blocks": true
        },
        "minecraft:movement.basic": {
          "max_turn": 45.0
        },
        "minecraft:movement": {
          "value": 0.24
        },
        "minecraft:variable_max_auto_step": {
          "base_value": 1.5625,
          "controlled_value": 1.5625,
          "jump_prevented_value": 0.5625
        }
      },
      "trigger":{
      "minecraft:environment_sensor": {
        "triggers": [
          {
            "filters": {
              "all_of": [{"test": "on_ground","operator": "!="}]
            },
            "event": "fly"
          },
          {
            "filters": {
              "all_of": [{"test": "on_ground"}]
            },
            "event": "ground"
          }
        ]
      }
      },
        //note
       "dragonmountsplus:follow": {
        "minecraft:behavior.follow_owner": {
          "priority": 0,
          "speed_multiplier": 1.5,
          "start_distance": 5,
          "stop_distance": 5
        },
        "minecraft:interact": {
          "interactions": [
                     {
              "on_interact": {
                "event": "follow",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                    { 
                      "test": "has_equipment", 
                      "domain": "hand", 
                      "subject": "other", 
                      "value": "minecraft:bone"
                    }
                  ]
                }
              },
              "interact_text": "Wander",
              "use_item": false
           },
                       {
              "cooldown": 60.0,
              "use_item": false,
              "hurt_item": 16,
              "spawn_items": {
                "table": "loot_tables/entities/dm2/wither.json"
              },
              "play_sounds": "shear",
        "interact_text": "action.interact.shear.dm2",
        "on_interact": {
          "filters": {
            "all_of": [
              {
                "any_of": [
                  {
                    "test": "has_equipment",
                    "subject": "other",
                    "domain": "hand",
                    "value": "dragonmountsplus:diamond_shears"
                  },
                  {
                    "test": "has_equipment",
                    "subject": "other",
                    "domain": "hand",
                    "value": "dragonmountsplus:netherite_shears"
                  }
                ]
              },
              {
                "test": "is_family",
                "subject": "other",
                "value": "player"
              },
              {
                "test": "has_component",
                "operator": "!=",
                "value": "minecraft:is_baby"
              }
            ]
          },
          "event": "dragonmountsplus:dragon_sheared",
          "target": "self"
              }
            },
                     {
              "on_interact": {
                "event": "change_variation",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                                        { 
                    "test": "is_variant",
                  "operator": "!=",
                  "value": 2
                    },
                    { 
                      "test": "has_equipment", 
                      "domain": "hand", 
                      "subject": "other", 
                      "value": "dragonmountsplus:variation_orb"
                    }
                  ]
                }
              },
              "play_sounds": "mob.mountdragon.variant",
              "interact_text": "interaction.text.change_variation",
              "use_item": true
           },
           {
              "on_interact": {
                "event": "ride_lock",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                    {
                      "test": "is_owner",
                      "subject": "other",
                      "value": true
                    },
                    { 
                      "test": "has_equipment", 
                      "domain": "hand", 
                      "subject": "other", 
                      "value": "minecraft:stick"
                    },
                    {
                      "test": "has_component",
                      "operator": "!=",
                      "value": "minecraft:is_baby"
                    }
                  ]
                }
              },
              "interact_text": "Lock Dragon",
              "use_item": false
           }
          ]
        }
      },
      "dragonmountsplus:dragon_interact": {
        "minecraft:interact": {       
          "interactions": [
            {
              "cooldown": 60.0,
              "use_item": false,
              "hurt_item": 16,
              "spawn_items": {
                "table": "loot_tables/entities/dm2/wither.json"
              },
              "play_sounds": "shear",
              "interact_text": "action.interact.shear.dm2",
              "on_interact": {
          "filters": {
            "all_of": [
              {
                "any_of": [
                  {
                    "test": "has_equipment",
                    "subject": "other",
                    "domain": "hand",
                    "value": "dragonmountsplus:diamond_shears"
                  },
                  {
                    "test": "has_equipment",
                    "subject": "other",
                    "domain": "hand",
                    "value": "dragonmountsplus:netherite_shears"
                  }
                ]
              },
              {
                "test": "is_family",
                "subject": "other",
                "value": "player"
              },
              {
                "test": "has_component",
                "operator": "!=",
                "value": "minecraft:is_baby"
              }
            ]
          },
          "event": "dragonmountsplus:dragon_sheared",
          "target": "self"
              }
            },
                     {
              "on_interact": {
                "event": "change_variation",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                    { 
                    "test": "is_variant",
                  "operator": "!=",
                  "value": 2
                    },
                    { 
                      "test": "has_equipment", 
                      "domain": "hand", 
                      "subject": "other", 
                      "value": "dragonmountsplus:variation_orb"
                    }
                  ]
                }
              },
              "play_sounds": "mob.mountdragon.variant",
              "interact_text": "interaction.text.change_variation",
              "use_item": true
           },
           {
              "on_interact": {
                "event": "wandering",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                    { 
                      "test": "has_equipment", 
                      "domain": "hand", 
                      "subject": "other", 
                      "value": "minecraft:bone"
                    }
                  ]
                }
              },
              "interact_text": "Follow",
              "use_item": false
           },
           {
              "on_interact": {
                "event": "ride_lock",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                    {
                      "test": "is_owner",
                      "subject": "other",
                      "value": true
                    },
                    { 
                      "test": "has_equipment", 
                      "domain": "hand", 
                      "subject": "other", 
                      "value": "minecraft:stick"
                    },
                    {
                      "test": "has_component",
                      "operator": "!=",
                      "value": "minecraft:is_baby"
                    }
                  ]
                }
              },
              "interact_text": "Lock Dragon",
              "use_item": false
           }
          ]
        }
      },
      //end_note
      "dragonmountsplus:dragon_temp_unsit": {
        "minecraft:timer": {
          "time": 0.0,
          "looping": false,
          "time_down_event": {
            "event": "dragonmountsplus:dragon_temp_unsit_end",
            "target": "self"
          }
        }
      },
      "dragonmountsplus:dragon_sheared": {
        "minecraft:is_sheared": {},
        "minecraft:timer": {
          "time": 0.2,
          "looping": false,
          "time_down_event": {
            "event": "dragonmountsplus:dragon_sheared_remove",
            "target": "self"
          }
        }
      },
      "dragonmountsplus:dragon_baby": {
        "minecraft:is_baby": {},
        "minecraft:behavior.follow_parent": {
          "speed_multiplier": 2.0
        },
        "minecraft:scale_by_age": {
          "start_scale": 0.07,
          "end_scale": 1.0
        },
        "minecraft:ageable": {
          "duration": 14400,
          "feed_items": [
            {
              "item": "fish",
              "growth": 0.0078125
            },
            {
              "item": "salmon",
              "growth": 0.0104166
            },
            {
              "item": "clownfish",
              "growth": 0.015625
            }
          ],
          "grow_up": {
            "event": "dragonmountsplus:dragon_grow_up",
            "target": "self"
          }
        }
      },
      "dragonmountsplus:dragon_adult": {
        "minecraft:scale": {
          "value": 1.0
        },
        "minecraft:breedable": {
          "require_tame": true,
          "blend_attributes": false,
          "inherit_tamed": true,
          "breeds_with": [
              {
            "mate_type": "dragonmountsplus:f_wither_dragon",
            "baby_type": "dragonmountsplus:wither_dragon_egg",
            "breed_event": {
              "event": "minecraft:entity_born",
              "target": "baby"
            }
          }],
          "breed_items": [
            "fish",
            "salmon",
            "clownfish"
          ]
        },
        "minecraft:behavior.hurt_by_target": {
          "priority": 1,
          "alert_same_type": true,
          "hurt_owner": false,
          "entity_types": {
            "max_dist": 64,
            "walk_speed_multiplier": 2.4,
            "sprint_speed_multiplier": 2.4
          }
        },
        "minecraft:custom_hit_test": {
          "hitboxes": [
            {
              "width": 2.0,
              "height": 2.0,
              "pivot": [
                0.0,
                2.0,
                0.0
              ]
            }
          ]
        },
        "minecraft:break_blocks": {
          "breakable_blocks": [

          ]
        }
      },
      "dragonmountsplus:dragon_wild": {
        "minecraft:equipment": {
          "table": "loot_tables/loot/wither.json"
        },
        "minecraft:tameable": {
          "probability": 0.2,
          "tameItems": [
            "fish",
            "salmon",
            "clownfish"
          ],
          "tame_event": {
            "event": "dragonmountsplus:dragon_tame",
            "target": "self"
          }
        }
      },
      "dragonmountsplus:dragon_tame": {
      "minecraft:on_death": {
        "event": "dragonmountsplus:death",
        "target": "self"
      },
        "minecraft:is_tamed": {},
        "minecraft:health": {
          "value": 200,
          "max": 200
        },
        "minecraft:leashable": {
          "soft_distance": 8.0,
          "hard_distance": 15.0,
          "max_distance": 24.0,
          "on_leash": {
            "event": "dragonmountsplus:dragon_on_leash",
            "target": "self"
          },
          "on_unleash": {
            "event": "dragonmountsplus:dragon_on_unleash",
            "target": "self"
          }
        },
        "minecraft:behavior.owner_hurt_by_target": {
          "priority": 0
        },
        "minecraft:behavior.owner_hurt_target": {
          "priority": 1
        },
        "minecraft:behavior.breed": {
          "priority": 0
        }
      },    
      "dragonmountsplus:dragon_sitable": {
        "minecraft:sittable": {
          "priority": 0
        },
        "minecraft:behavior.stay_while_sitting": {
          "priority": 0
        },
            "minecraft:inventory": {
          "inventory_size": 18,
          "container_type": "horse"
        }
      },
      "dragonmountsplus:dragon_rideable": {
        "minecraft:rideable": {
          "priority": 0,
          "seat_count": 1,
          "crouching_skip_interact": true,
          "rider_can_interact": false,
          "dismount_mode": "default",
            "on_rider_enter_event": "start",
            "on_rider_exit_event": "stop",
          "family_types": [
            "player"
          ],
          "interact_text": "action.interact.ride.dm2",
          "seats": [
            {
              "position": [
                0.0,
                2.7,
                0.64
              ],
             "third_person_camera_radius": 11.0,
            "camera_relax_distance_smoothing": 10.0,
              "min_rider_count": 0,
              "max_rider_count": 1
            }
          ]
        }
      },
      "dragonmountsplus:dragon_rideunlook": {
            "minecraft:interact": {
          "interactions": [
             {
              "on_interact": {
                "event": "no_open",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                    {
                      "test": "is_owner",
                      "subject": "other",
                      "value": false
                    }
                  ]
                }
              },
              "interact_text": "Cant Open",
              "use_item": false
              },
              {
              "on_interact": {
                "event": "unlock_ride",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                    {
                      "test": "is_owner",
                      "subject": "other",
                      "value": true
                    },
                    { 
                      "test": "has_equipment", 
                      "domain": "hand", 
                      "subject": "other", 
                      "value": "minecraft:stick"
                    },
                    {
                      "test": "has_component",
                      "operator": "!=",
                      "value": "minecraft:is_baby"
                    }
                  ]
                }
              },
              "interact_text": "Unlock Dragon",
              "use_item": false
           },
                       {
              "cooldown": 60.0,
              "use_item": false,
              "hurt_item": 16,
              "spawn_items": {
                "table": "loot_tables/entities/dm2/wither.json"
              },
              "play_sounds": "shear",
              "interact_text": "action.interact.shear.dm2",
              "on_interact": {
          "filters": {
            "all_of": [
              {
                "any_of": [
                  {
                    "test": "has_equipment",
                    "subject": "other",
                    "domain": "hand",
                    "value": "dragonmountsplus:diamond_shears"
                  },
                  {
                    "test": "has_equipment",
                    "subject": "other",
                    "domain": "hand",
                    "value": "dragonmountsplus:netherite_shears"
                  }
                ]
              },
              {
                "test": "is_family",
                "subject": "other",
                "value": "player"
              },
              {
                "test": "has_component",
                "operator": "!=",
                "value": "minecraft:is_baby"
              }
            ]
          },
          "event": "dragonmountsplus:dragon_sheared",
          "target": "self"
              }
            },
                     {
              "on_interact": {
                "event": "change_variation",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                                        { 
                    "test": "is_variant",
                  "operator": "!=",
                  "value": 2
                    },
                    { 
                      "test": "has_equipment", 
                      "domain": "hand", 
                      "subject": "other", 
                      "value": "dragonmountsplus:variation_orb"
                    }
                  ]
                }
              },
              "play_sounds": "mob.mountdragon.variant",
              "interact_text": "interaction.text.change_variation",
              "use_item": true
           },
           {
              "on_interact": {
                "event": "wandering",
                "target": "self",
                "filters": {
                  "all_of": [
                    { 
                      "test": "is_family", 
                      "subject" : "other", 
                      "value" :  "player"
                    },
                    { 
                      "test": "has_equipment", 
                      "domain": "hand", 
                      "subject": "other", 
                      "value": "minecraft:bone"
                    }
                  ]
                }
              },
              "interact_text": "Follow",
              "use_item": false
           }
          ]
        }
      },
      "dragonmountsplus:dragon_saddled": {
        "minecraft:is_saddled": {},
        "minecraft:input_ground_controlled": {},
        "minecraft:can_power_jump": {},
        "minecraft:behavior.player_ride_tamed": {},
        "minecraft:horse.jump_strength": {
          "value": {
            "range_min": 1,
            "range_max": 2
          }
        }
      },
      "dragonmountsplus:dragon_chested": {
        "minecraft:is_chested": {}
      },
      "dragonmountsplus:dragon_launch": {
        "minecraft:spell_effects": {
          "add_effects": [
            {
              "effect": "levitation",
              "amplifier": 80,
              "visible": false,
              "ambient": false,
              "duration": 1
            }
          ]
        },
        "minecraft:timer": {
          "looping": false,
          "randomInterval": false,
          "time": 0.1,
          "time_down_event": {
            "event": "dragonmountsplus:dragon_is_launch_end",
            "target": "self"
          }
        }
      },
      "dragonmountsplus:dragon_launch_end": {
        "minecraft:spell_effects": {
          "remove_effects": [
            "levitation"
          ]
        }
      },
      "dragonmountsplus:dragon_conup": {
        "minecraft:spell_effects": {
          "add_effects": [
            {
              "effect": "levitation",
              "amplifier": 40,
              "visible": false,
              "ambient": false,
              "duration": 3
            }
          ]
        },
        "minecraft:timer": {
          "looping": false,
          "randomInterval": false,
          "time": 0.2,
          "time_down_event": {
            "event": "dragonmountsplus:dragon_is_conup_end",
            "target": "self"
          }
        }
      },
      "dragonmountsplus:death_ani": {
      "minecraft:spawn_entity": {
          "entities": {
            "min_wait_time": 0,
            "max_wait_time": 0,
            "single_use": true,
            "num_to_spawn": 1,
            "spawn_sound": "plop",
            "spawn_item": "dragonmountsplus:essence_wither"
          }
        }
      },
      "dragonmountsplus:dragon_conup_end": {
        "minecraft:spell_effects": {
          "remove_effects": [
            "speed",
            "levitation"
          ]
        }
      },
      "dragonmountsplus:dragon_leashed": {
        "minecraft:behavior.move_towards_restriction": {
          "priority": 2
        }
      },
      "dragonmountsplus:dragon_noarmor": {
      "minecraft:damage_sensor": {
          "triggers": [				
            {
              "damage_multiplier": 1.0
            },
            {
              "cause": "fall",
              "deals_damage": false
            }
          ]
        },
        "minecraft:mark_variant": {
          "value": 0
        }
      },
      "dragonmountsplus:dragon_armor_iron": {
         "minecraft:damage_sensor": {
          "triggers": [				
            {
              "damage_multiplier": 0.60
            },
            {
              "cause": "fall",
              "deals_damage": false
            }
          ]
        },
        "minecraft:mark_variant": {
          "value": 1
        }
      },
      "dragonmountsplus:dragon_armor_copper": {
                  "minecraft:damage_sensor": {
          "triggers": [				
            {
              "damage_multiplier": 0.70
            },
            {
              "cause": "fall",
              "deals_damage": false
            }
          ]
        },
        "minecraft:mark_variant": {
          "value": 2
        }
      },
      "dragonmountsplus:dragon_armor_gold": {
                  "minecraft:damage_sensor": {
          "triggers": [				
            {
              "damage_multiplier": 0.80
            },
            {
              "cause": "fall",
              "deals_damage": false
            }
          ]
        },
        "minecraft:mark_variant": {
          "value": 3
        }
      },
      "dragonmountsplus:dragon_armor_diamond": {
                  "minecraft:damage_sensor": {
          "triggers": [				
            {
              "damage_multiplier": 0.40
            },
            {
              "cause": "fall",
              "deals_damage": false
            }
          ]
        },
        "minecraft:mark_variant": {
          "value": 4
        }
      },
      "dragonmountsplus:dragon_armor_emerald": {
                  "minecraft:damage_sensor": {
          "triggers": [				
            {
              "damage_multiplier": 0.50
            },
            {
              "cause": "fall",
              "deals_damage": false
            }
          ]
        },
        "minecraft:mark_variant": {
          "value": 5
        }
      },
      "dragonmountsplus:dragon_armor_netherite": {
                  "minecraft:damage_sensor": {
          "triggers": [				
            {
              "damage_multiplier": 0.60
            },
            {
              "cause": "fall",
              "deals_damage": false
            }
          ]
        },
        "minecraft:mark_variant": {
          "value": 6
        }
      } 
    },    
    "components": {
      "minecraft:fire_immune": true,
      "minecraft:nameable": {},
      "minecraft:jump.static": {},
      "minecraft:can_climb": {},
      "minecraft:persistent": {},
      "minecraft:physics": {},
      "minecraft:behavior.random_look_around": {
        "priority": 7
      },
      "minecraft:attack": {
        "damage": 24
      },
                  "minecraft:loot": {
        "table": "loot_tables/loot/wither.json"
      },
      "minecraft:behavior.delayed_attack": {
        "priority": 0,
        "speed_multiplier": 1.8,
        "attack_duration": 0.36,
        "hit_delay_pct": 0.24,
        "track_target": true,
        "reach_multiplier": 4.0,
        "sound_event": "attack"
      },
      "minecraft:knockback_resistance": {
        "value": 100,
        "max": 100
      },
      "minecraft:type_family": {
        "family": [
          "dragon",
          "dm2",
          "wither_dragon"
        ]
      },
      "minecraft:behavior.mount_pathing": {
        "priority": 2,
        "speed_multiplier": 1.6
      },
      "minecraft:health": {
        "value": 200,
        "max": 200
      },
      "minecraft:behavior.move_towards_target": {
        "priority": 2,
        "speed_multiplier": 1.8,
        "within_radius": 64
      },
      "minecraft:navigation.walk": {
        "priority": 0,
        "can_path_over_water": true,
        "can_path_from_air": true,
        "avoid_water": true,
        "avoid_damage_blocks": true
      },
      "minecraft:collision_box": {
        "width": 1.0,
        "height": 3.0
      },
      "minecraft:breathable": {
        "totalSupply": 15,
        "breathesWater": true,
        "suffocateTime": 0
      },
      "minecraft:damage_sensor": {
        "triggers": [
          {
            "cause": "anvil",
            "deals_damage": true
          },
          {
            "cause": "block_explosion",
            "deals_damage": true
          },
          {
            "cause": "charging",
            "deals_damage": true
          },
          {
            "cause": "contact",
            "deals_damage": false
          },
          {
            "cause": "drowning",
            "deals_damage": true
          },
          {
            "cause": "entity_attack",
            "deals_damage": true
          },
          {
            "cause": "entity_explosion",
            "deals_damage": true
          },
          {
            "cause": "fall",
            "deals_damage": false
          },
          {
            "cause": "falling_block",
            "deals_damage": true
          },
          {
            "cause": "fire",
            "deals_damage": true
          },
          {
            "cause": "fire_tick",
            "deals_damage": true
          },
          {
            "cause": "fly_into_wall",
            "deals_damage": false
          },
          {
            "cause": "freezing",
            "deals_damage": true
          },
          {
            "cause": "lava",
            "deals_damage": true
          },
          {
            "cause": "lightning",
            "deals_damage": true
          },
          {
            "cause": "magic",
            "deals_damage": false
          },
          {
            "cause": "magma",
            "deals_damage": true
          },
          {
            "cause": "projectile",
            "deals_damage": true
          },
          {
            "cause": "stalactite",
            "deals_damage": true
          },
          {
            "cause": "stalagmite",
            "deals_damage": true
          },
          {
            "cause": "starve",
            "deals_damage": true
          },
          {
            "cause": "suffocation",
            "deals_damage": false
          },
          {
            "cause": "temperature",
            "deals_damage": true
          },
          {
            "cause": "thorns",
            "deals_damage": false
          },
          {
            "cause": "void",
            "deals_damage": false
          },
          {
            "cause": "wither",
            "deals_damage": false
          },
					{
						"on_damage": {
							"event": "dragonmountsplus:dragon_temp_unsit_start"
						}
					}
        ]
      },
      "minecraft:equippable": {
        "slots": [
          {
            "slot": 0,
            "item": "saddle",
            "accepted_items": [
              "saddle"
            ],
            "on_equip": {
              "event": "dragonmountsplus:dragon_saddled"
            },
            "on_unequip": {
              "event": "dragonmountsplus:dragon_unsaddled"
            }
          },
          {
            "slot": 1,
            "item": "horsearmoriron",
            "accepted_items": [
              "dragonmountsplus:dragonarmor_emerald",
              "dragonmountsplus:dragonarmor_iron",
              "dragonmountsplus:dragonarmor_copper",
              "dragonmountsplus:dragonarmor_gold",
              "dragonmountsplus:dragonarmor_diamond",
              "dragonmountsplus:dragonarmor_netherite"
            ],
            "on_equip": {
              "event": "dragonmountsplus:dragon_hasarmor"
            },
            "on_unequip": {
              "event": "dragonmountsplus:dragon_hasarmor"
            }
          },
          {
            "slot": 2,
            "item": "chest",
            "accepted_items": [
              "chest"
            ],
            "on_equip": {
              "event": "dragonmountsplus:dragon_on_chest"
            },
            "on_unequip": {
              "event": "dragonmountsplus:dragon_deon_chest"
            }
          }
        ]
      },
      "minecraft:lookat": {
        "search_radius": 12.0,
        "set_target": true,
        "look_cooldown": [
          16.0,
          12.0
        ],
        "filters": {
          "all_of": [
            {
              "test": "is_family",
              "subject": "other",
              "value": "monster"
            }
          ]
        },
        "within_default": 4
      },
      "minecraft:behavior.nearest_attackable_target": {
        "priority": 2,
        "entity_types": [
          {
            "filters": {
              "all_of": [
                {
                  "test": "is_family",
                  "subject": "other",
                  "value": "monster"
                }
              ]
            },
            "within_default": 6
          }
        ],
        "within_radius": 6.0,
        "scan_interval": 10,
        "attack_interval": 0,
        "reselect_targets": true,
        "must_see": false,
        "must_reach": false
      },
      "minecraft:healable": {
        "priority": 1,
        "items": [
          {
            "item": "chicken",
            "heal_amount": 8
          },
          {
            "item": "beef",
            "heal_amount": 8
          },
          {
            "item": "porkchop",
            "heal_amount": 8
          },
          {
            "item": "muttonraw",
            "heal_amount": 8
          },
          {
            "item": "rabbit",
            "heal_amount": 8
          },
          {
            "item": "rotten_flesh",
            "heal_amount": 4
          }
        ]
      },
      "minecraft:pushable": {
        "is_pushable": true,
        "is_pushable_by_piston": true
      },
      "minecraft:behavior.float": {
        "priority": 0
      },
      "minecraft:behavior.tempt": {
        "priority": 3,
        "speed_multiplier": 1.6,
        "within_radius": 16,
        "items": [
          "fish",
          "salmon",
          "clownfish"
        ]
      },
      "minecraft:behavior.random_stroll": {
        "priority": 4,
        "speed_multiplier": 1.8,
        "xz_dist": 96,
        "y_dist": 128,
        "interval": 4
      },
      "minecraft:behavior.look_at_player": {
        "priority": 1,
        "look_distance": 12,
        "target_distance": 4.0,
        "probability": 0.0001,
        "look_time": [
          1,
          2
        ]
      }
    },
    "events": {
      "minecraft:entity_spawned": {
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_adult",
                "dragonmountsplus:dragon_wild",
                                "on_ground"
              ]
            }
      },
      "minecraft:entity_transformed": {
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_baby",
                "dragonmountsplus:dragon_wild",
                                "on_ground"
              ]
            }
      },
      "dragonmountsplus:dragon_grow_up": {
            "remove": {
              "component_groups": [
                "dragonmountsplus:dragon_baby"
              ]
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_adult",
                "dragonmountsplus:dragon_wild",
                "dragonmountsplus:dragon_interact",
                "dragonmountsplus:dragon_rideable"                
              ]
            }
      },
      "dragonmountsplus:dragon_tame": {
        "sequence": [
          {
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_interact",
                "dragonmountsplus:dragon_sitable"
              ]
            }
          },
          {
            "filters": {
              "test": "has_component",
              "operator": "!=",
              "value": "minecraft:is_baby"
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_rideable",
                "dragonmountsplus:dragon_onground"
              ]
            }
          },
          {
            "remove": {
              "component_groups": [
                "dragonmountsplus:dragon_wild"
              ]
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_tame"
              ]
            }
          }
        ]
      },
      "dragonmountsplus:dragon_sit": {
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_sitable"
          ]
        }
      },
      "dragonmountsplus:dragon_temp_unsit_start": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_sitable"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_temp_unsit"
          ]
        }
      },
      "dragonmountsplus:dragon_temp_unsit_end": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_temp_unsit"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_sitable"
          ]
        }
      },
      "dragonmountsplus:dragon_unsit": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_sitable"
          ]
        }
      },
      "dragonmountsplus:dragon_saddled": {
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_saddled"
          ]
        }
      },
      "dragonmountsplus:dragon_unsaddled": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_saddled"
          ]
        },
        "queue_command": {"command": ["ride @p stop_riding"]}
      },
      "dragonmountsplus:dragon_on_chest": {
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_chested"
          ]
        }
      },
      "dragonmountsplus:dragon_deon_chest": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_chested"
          ]
        }
      },
      "fly":{
        "sequence": [
          {
            "filters": {
              "test": "has_tag",
              "subject": "self",
              "operator": "==",
              "value": "flying"
            },            
        "add":{"component_groups":["flying"]},
        "remove":{"component_groups":["on_ground"]}
          }
        ]
      },
      "ground":{
        "sequence": [
          {
            "filters": {
              "test": "has_tag",
              "subject": "self",
              "operator": "!=",
              "value": "flying"
            },            
        "add":{"component_groups":["on_ground"]},
        "remove":{"component_groups":["flying"]}
          }
        ]
      },
      "start":{
        "add":{"component_groups":["trigger"]}
      },
      "stop":{
        "remove":{"component_groups":["flying","trigger"]},
        "add":{"component_groups":["on_ground"]},
        "queue_command": {"command": ["effect @s slow_falling 30 0 true"]}
      },
      "dragonmountsplus:dragon_is_launch": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_launch_end"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_launch"
          ]
        }
      },
      "dragonmountsplus:dragon_is_launch_end": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_launch"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_launch_end"
          ]
        }
      },
      "dragonmountsplus:dragon_is_conup": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_conup_end"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_conup"
          ]
        }
      },
      "dragonmountsplus:dragon_is_conup_end": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_conup"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_conup_end"
          ]
        }
      },
      //note
            "follow": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:follow"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_interact"
          ]
        }
      },
                  "wandering": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_interact"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:follow"
          ]
        }
      },
                  "ride_lock": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_rideable",
            "dragonmountsplus:dragon_interact"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_rideunlook"
          ]
        }
      },
                  "unlock_ride": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_rideunlook"
          ]
        },
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_rideable",
            "dragonmountsplus:dragon_interact"
          ]
        }
      },
      //end note
      "dragonmountsplus:dragon_on_leash": {
        "add": {
          "component_groups": [
            "dragonmountsplus:dragon_leashed"
          ]
        }
      },
      "dragonmountsplus:dragon_on_unleash": {
        "remove": {
          "component_groups": [
            "dragonmountsplus:dragon_leashed"
          ]
        }
      },
  "dragonmountsplus:death": {
      "add": {
      "component_groups": [
          "dragonmountsplus:death_ani" 
        ]
      },
      "queue_command": {
       "command": [
        "setblock ~~~ dragonmountsplus:dragon_core"
         ]
       }
    },
      "dragonmountsplus:dragon_hasarmor": {
        "sequence": [
          {
            "filters": {
              "all_of": [
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "operator": "!=",
                  "value": "dragonmountsplus:dragonarmor_iron"
                },
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "operator": "!=",
                  "value": "dragonmountsplus:dragonarmor_copper"
                },
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "operator": "!=",
                  "value": "dragonmountsplus:dragonarmor_gold"
                },
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "operator": "!=",
                  "value": "dragonmountsplus:dragonarmor_diamond"
                },
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "operator": "!=",
                  "value": "dragonmountsplus:dragonarmor_emerald"
                },
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "operator": "!=",
                  "value": "dragonmountsplus:dragonarmor_netherite"
                },
                {
                  "test": "is_mark_variant",
                  "operator": "!=",
                  "value": 0
                }
              ]
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_noarmor"
              ]
            }
          },
          {
            "filters": {
              "all_of": [
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "value": "dragonmountsplus:dragonarmor_iron"
                },
                {
                  "test": "is_mark_variant",
                  "operator": "!=",
                  "value": 1
                }
              ]
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_armor_iron"
              ]
            }
          },
          {
            "filters": {
              "all_of": [
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "value": "dragonmountsplus:dragonarmor_gold"
                },
                {
                  "test": "is_mark_variant",
                  "operator": "!=",
                  "value": 2
                }
              ]
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_armor_gold"
              ]
            }
          },
          {
            "filters": {
              "all_of": [
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "value": "dragonmountsplus:dragonarmor_copper"
                },
                {
                  "test": "is_mark_variant",
                  "operator": "!=",
                  "value": 3
                }
              ]
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_armor_copper"
              ]
            }
          },
          {
            "filters": {
              "all_of": [
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "value": "dragonmountsplus:dragonarmor_diamond"
                },
                {
                  "test": "is_mark_variant",
                  "operator": "!=",
                  "value": 4
                }
              ]
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_armor_diamond"
              ]
            }
          },
          {
            "filters": {
              "all_of": [
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "value": "dragonmountsplus:dragonarmor_emerald"
                },
                {
                  "test": "is_mark_variant",
                  "operator": "!=",
                  "value": 5
                }
              ]
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_armor_emerald"
                ]
            }
          },
          {
            "filters": {
              "all_of": [
                {
                  "test": "has_equipment",
                  "domain": "armor",
                  "value": "dragonmountsplus:dragonarmor_netherite"
                },
                {
                  "test": "is_mark_variant",
                  "operator": "!=",
                  "value": 6
                }
              ]
            },
            "add": {
              "component_groups": [
                "dragonmountsplus:dragon_armor_netherite"
              ]
            }
          }
        ]
      }
    }
  }
}